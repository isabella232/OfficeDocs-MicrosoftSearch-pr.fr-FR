---
title: Connecteur Graph ServiceNow pour Microsoft Search (recherche Microsoft)
ms.author: mecampos
author: mecampos
manager: umas
audience: Admin
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Configurer le connecteur ServiceNow Graph pour Microsoft Search (recherche Microsoft)
ms.openlocfilehash: ac5d0b23547ce7ccd0d8bb6399b092f9bc9e5303
ms.sourcegitcommit: f12e7ff0a94d30a9de1f93266715180e7530de3f
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/10/2021
ms.locfileid: "52879307"
---
<!---Previous ms.author: kam1 --->


# <a name="servicenow-graph-connector"></a><span data-ttu-id="f0ec6-103">ServiceNow Graph Connector</span><span class="sxs-lookup"><span data-stu-id="f0ec6-103">ServiceNow Graph Connector</span></span>

<span data-ttu-id="f0ec6-104">Avec microsoft Graph Connector for ServiceNow, votre organisation peut indexer des articles de la base de connaissances qui sont visibles par tous les utilisateurs ou restreints avec des autorisations de critères utilisateur au sein de votre organisation.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-104">With the Microsoft Graph Connector for ServiceNow, your organization can index knowledge-base articles that are visible to all users or restricted with user criteria permissions within your organization.</span></span> <span data-ttu-id="f0ec6-105">Après avoir configuré le connecteur et indexé le contenu à partir de ServiceNow, les utilisateurs finaux peuvent rechercher ces articles à partir de n’importe quel client Recherche Microsoft.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-105">After you configure the connector and index content from ServiceNow, end users can search for those articles from any Microsoft Search client.</span></span>  

<span data-ttu-id="f0ec6-106">Cet article s’Microsoft 365 administrateurs ou toute personne qui configure, exécute et surveille un connecteur Graph ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-106">This article is for Microsoft 365 administrators or anyone who configures, runs, and monitors a ServiceNow Graph  connector.</span></span> <span data-ttu-id="f0ec6-107">Il complète les instructions générales fournies dans l’article Configurer [Graph connecteur.](configure-connector.md)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-107">It supplements the general instructions provided in the [Set up your Graph connector](configure-connector.md) article.</span></span> <span data-ttu-id="f0ec6-108">Si vous ne l’avez pas déjà fait, lisez l’intégralité de l’article Configurer votre connecteur Graph pour comprendre le processus d’installation général.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-108">If you have not already done so, read the entire Set up your Graph Connector article to understand the general setup process.</span></span>

<span data-ttu-id="f0ec6-109">Chaque étape du processus d’installation est répertoriée ci-dessous, ainsi qu’une note qui indique que vous devez suivre les [](#troubleshooting) instructions d’installation générales ou d’autres instructions qui s’appliquent uniquement au connecteur ServiceNow Graph, y compris des informations sur le dépannage et les [limitations.](#limitations)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-109">Each step in the setup process is listed below along with either a note that indicates you should follow the general setup instructions OR other instructions that apply to only ServiceNow Graph connector including information about [Troubleshooting](#troubleshooting) and [Limitations](#limitations).</span></span>  

## <a name="step-1-add-a-graph-connector-in-the-microsoft-365-admin-center"></a><span data-ttu-id="f0ec6-110">Étape 1 : Ajoutez un connecteur Graph dans le centre d Microsoft 365'administration.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-110">Step 1: Add a Graph connector in the Microsoft 365 admin center.</span></span>
<span data-ttu-id="f0ec6-111">Suivez les instructions d’installation générales.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-111">Follow the general setup instructions.</span></span>

## <a name="step-2-name-the-connection"></a><span data-ttu-id="f0ec6-112">Étape 2 : Nommez la connexion.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-112">Step 2: Name the connection.</span></span>
<span data-ttu-id="f0ec6-113">Suivez les instructions d’installation générales.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-113">Follow the general setup instructions.</span></span>


## <a name="step-3-connection-settings"></a><span data-ttu-id="f0ec6-114">Étape 3 : Connexion Paramètres</span><span class="sxs-lookup"><span data-stu-id="f0ec6-114">Step 3: Connection Settings</span></span>
<span data-ttu-id="f0ec6-115">Pour vous connecter à vos données ServiceNow, vous avez besoin de **l’URL d’instance ServiceNow** de votre organisation.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-115">To connect to your ServiceNow data, you need your organization's **ServiceNow instance URL**.</span></span> <span data-ttu-id="f0ec6-116">L’URL de l’instance ServiceNow de votre organisation ressemble **généralement https:// &lt;>.service-now.com**.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-116">Your organization’s ServiceNow instance URL typically looks like **https://&lt;your-organization-domain>.service-now.com**.</span></span> 

<span data-ttu-id="f0ec6-117">En plus de cette URL, vous aurez besoin d’un compte de **service** pour la configuration de la connexion à ServiceNow, ainsi que pour permettre à Microsoft Search (recherche Microsoft) de mettre à jour périodiquement les articles de la base de connaissances en fonction de la planification d’actualisation.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-117">Along with this URL, you will need a **service account** for setting up the connection to ServiceNow as well as for allowing Microsoft Search to periodically update the knowledge articles based on the refresh schedule.</span></span> <span data-ttu-id="f0ec6-118">Le compte de service aura besoin d’un accès en lecture aux enregistrements de **table ServiceNow** suivants pour analyser correctement différentes entités.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-118">The service account will need read access to the following **ServiceNow table records** to successfully crawl various entities.</span></span>

<span data-ttu-id="f0ec6-119">**Fonctionnalité**</span><span class="sxs-lookup"><span data-stu-id="f0ec6-119">**Feature**</span></span> | <span data-ttu-id="f0ec6-120">**Accéder en lecture aux tableaux requis**</span><span class="sxs-lookup"><span data-stu-id="f0ec6-120">**Read access required tables**</span></span> | <span data-ttu-id="f0ec6-121">**Description**</span><span class="sxs-lookup"><span data-stu-id="f0ec6-121">**Description**</span></span>
--- | --- | ---
<span data-ttu-id="f0ec6-122">Articles de la base de connaissances d’index disponibles pour <em>tout le monde</em></span><span class="sxs-lookup"><span data-stu-id="f0ec6-122">Index knowledge articles available to <em>Everyone</em></span></span> | <span data-ttu-id="f0ec6-123">kb_knowledge</span><span class="sxs-lookup"><span data-stu-id="f0ec6-123">kb_knowledge</span></span> | <span data-ttu-id="f0ec6-124">Pour l’analyse des articles de la base de connaissances</span><span class="sxs-lookup"><span data-stu-id="f0ec6-124">For crawling knowledge articles</span></span>
<span data-ttu-id="f0ec6-125">Indexer et soutenir les autorisations des critères utilisateur</span><span class="sxs-lookup"><span data-stu-id="f0ec6-125">Index and support user criteria permissions</span></span> | <span data-ttu-id="f0ec6-126">kb_uc_can_read_mtom</span><span class="sxs-lookup"><span data-stu-id="f0ec6-126">kb_uc_can_read_mtom</span></span> | <span data-ttu-id="f0ec6-127">Qui lire cette base de connaissances</span><span class="sxs-lookup"><span data-stu-id="f0ec6-127">Who can read this knowledge base</span></span>
| | <span data-ttu-id="f0ec6-128">kb_uc_can_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="f0ec6-128">kb_uc_can_contribute_mtom</span></span> | <span data-ttu-id="f0ec6-129">Qui peuvent contribuer à cette base de connaissances</span><span class="sxs-lookup"><span data-stu-id="f0ec6-129">Who can contribute to this knowledge base</span></span>
| | <span data-ttu-id="f0ec6-130">kb_uc_cannot_read_mtom</span><span class="sxs-lookup"><span data-stu-id="f0ec6-130">kb_uc_cannot_read_mtom</span></span> | <span data-ttu-id="f0ec6-131">Qui ne peut pas lire cette base de connaissances</span><span class="sxs-lookup"><span data-stu-id="f0ec6-131">Who cannot read this knowledge base</span></span>
| | <span data-ttu-id="f0ec6-132">kb_uc_cannot_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="f0ec6-132">kb_uc_cannot_contribute_mtom</span></span> | <span data-ttu-id="f0ec6-133">Qui ne peut pas contribuer à cette base de connaissances</span><span class="sxs-lookup"><span data-stu-id="f0ec6-133">Who cannot contribute to this knowledge base</span></span>
| | <span data-ttu-id="f0ec6-134">sys_user</span><span class="sxs-lookup"><span data-stu-id="f0ec6-134">sys_user</span></span> | <span data-ttu-id="f0ec6-135">Lire le tableau de l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="f0ec6-135">Read user table</span></span>
| | <span data-ttu-id="f0ec6-136">sys_user_has_role</span><span class="sxs-lookup"><span data-stu-id="f0ec6-136">sys_user_has_role</span></span> | <span data-ttu-id="f0ec6-137">Lire les informations de rôle des utilisateurs</span><span class="sxs-lookup"><span data-stu-id="f0ec6-137">Read role information of users</span></span>
| | <span data-ttu-id="f0ec6-138">sys_user_grmember</span><span class="sxs-lookup"><span data-stu-id="f0ec6-138">sys_user_grmember</span></span> | <span data-ttu-id="f0ec6-139">Lire l’appartenance aux groupes d’utilisateurs</span><span class="sxs-lookup"><span data-stu-id="f0ec6-139">Read group membership of users</span></span>
| | <span data-ttu-id="f0ec6-140">user_criteria</span><span class="sxs-lookup"><span data-stu-id="f0ec6-140">user_criteria</span></span> | <span data-ttu-id="f0ec6-141">Autorisations de lecture des critères utilisateur</span><span class="sxs-lookup"><span data-stu-id="f0ec6-141">Read user criteria permissions</span></span>
| | <span data-ttu-id="f0ec6-142">kb_knowledge_base</span><span class="sxs-lookup"><span data-stu-id="f0ec6-142">kb_knowledge_base</span></span> | <span data-ttu-id="f0ec6-143">Lire les informations de la base de connaissances</span><span class="sxs-lookup"><span data-stu-id="f0ec6-143">Read knowledge base information</span></span>

<span data-ttu-id="f0ec6-144">Vous pouvez **créer et attribuer un rôle** pour le compte de service que vous utilisez pour vous connecter à Microsoft Search (recherche Microsoft).</span><span class="sxs-lookup"><span data-stu-id="f0ec6-144">You can **create and assign a role** for the service account you use to connect with Microsoft Search.</span></span> <span data-ttu-id="f0ec6-145">[Découvrez comment attribuer un rôle pour les comptes ServiceNow.](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-145">[Learn how to assign role for ServiceNow accounts](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span> <span data-ttu-id="f0ec6-146">L’accès en lecture aux tables peut être affecté au rôle créé.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-146">Read access to the tables can be assigned on the created role.</span></span> <span data-ttu-id="f0ec6-147">Pour en savoir plus sur la définition de l’accès en lecture aux enregistrements de table, voir [Sécurisation des enregistrements de table.](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-147">To learn about setting read access to table records, see [Securing Table Records](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls).</span></span> 


>[!NOTE]
> <span data-ttu-id="f0ec6-148">ServiceNow Graph Connector peut indexer les articles de connaissances et les autorisations des critères utilisateur sans scripts avancés.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-148">ServiceNow Graph Connector can index knowledge articles and user criteria permissions without advanced scripts.</span></span> <span data-ttu-id="f0ec6-149">Si un critère utilisateur contient un script avancé, tous les articles de la base de connaissances associés seront masqués dans les résultats de recherche.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-149">If a user criteria contains advanced script all the related knowledge articles will be hidden from search results.</span></span>

<span data-ttu-id="f0ec6-150">Pour authentifier et synchroniser le contenu à partir de ServiceNow, choisissez **l’une des trois méthodes** prise en charge :</span><span class="sxs-lookup"><span data-stu-id="f0ec6-150">To authenticate and sync content from ServiceNow, choose **one of three** supported methods:</span></span> 
 
- <span data-ttu-id="f0ec6-151">Authentification de base</span><span class="sxs-lookup"><span data-stu-id="f0ec6-151">Basic authentication</span></span> 
- <span data-ttu-id="f0ec6-152">ServiceNow OAuth (recommandé)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-152">ServiceNow OAuth (recommended)</span></span>
- <span data-ttu-id="f0ec6-153">Azure AD OpenID Connecter</span><span class="sxs-lookup"><span data-stu-id="f0ec6-153">Azure AD OpenID Connect</span></span>

## <a name="step-31-basic-authentication"></a><span data-ttu-id="f0ec6-154">Étape 3.1 : Authentification de base</span><span class="sxs-lookup"><span data-stu-id="f0ec6-154">Step 3.1: Basic authentication</span></span>

<span data-ttu-id="f0ec6-155">Entrez le nom d’utilisateur et le mot de passe du compte ServiceNow avec le rôle **de** connaissance pour vous authentifier auprès de votre instance.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-155">Enter the username and password of ServiceNow account with **knowledge** role to authenticate to your instance.</span></span>

## <a name="step-32-servicenow-oauth"></a><span data-ttu-id="f0ec6-156">Étape 3.2 : ServiceNow OAuth</span><span class="sxs-lookup"><span data-stu-id="f0ec6-156">Step 3.2: ServiceNow OAuth</span></span>

<span data-ttu-id="f0ec6-157">Pour utiliser ServiceNow OAuth pour l’authentification, un administrateur ServiceNow doit mettre en service un point de terminaison dans votre instance ServiceNow, afin que l’application Microsoft Search puisse y accéder.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-157">To use ServiceNow OAuth for authentication, a ServiceNow admin needs to provision an endpoint in your ServiceNow instance, so that the Microsoft Search app can access it.</span></span> <span data-ttu-id="f0ec6-158">Pour plus d’informations, voir [Créer un point de terminaison](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) pour que les clients accèdent à l’instance dans la documentation ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-158">To learn more, see [Create an endpoint for clients to access the instance](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) in the ServiceNow documentation.</span></span>

<span data-ttu-id="f0ec6-159">Le tableau suivant fournit des instructions sur la façon de remplir le formulaire de création de point de terminaison :</span><span class="sxs-lookup"><span data-stu-id="f0ec6-159">The following table provides guidance on how to fill out the endpoint creation form:</span></span>

<span data-ttu-id="f0ec6-160">Champ</span><span class="sxs-lookup"><span data-stu-id="f0ec6-160">Field</span></span> | <span data-ttu-id="f0ec6-161">Description</span><span class="sxs-lookup"><span data-stu-id="f0ec6-161">Description</span></span> | <span data-ttu-id="f0ec6-162">Valeur recommandée</span><span class="sxs-lookup"><span data-stu-id="f0ec6-162">Recommended Value</span></span> 
--- | --- | ---
<span data-ttu-id="f0ec6-163">Nom</span><span class="sxs-lookup"><span data-stu-id="f0ec6-163">Name</span></span> | <span data-ttu-id="f0ec6-164">Valeur unique qui identifie l’application pour qui vous avez besoin d’un accès OAuth.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-164">Unique value that identifies the application that you require OAuth access for.</span></span> | <span data-ttu-id="f0ec6-165">Recherche Microsoft</span><span class="sxs-lookup"><span data-stu-id="f0ec6-165">Microsoft Search</span></span>
<span data-ttu-id="f0ec6-166">ID du client</span><span class="sxs-lookup"><span data-stu-id="f0ec6-166">Client ID</span></span> | <span data-ttu-id="f0ec6-167">ID unique généré automatiquement en lecture seule pour l’application.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-167">A read-only, auto generated unique ID for the application.</span></span> <span data-ttu-id="f0ec6-168">L’instance utilise l’ID client lorsqu’elle demande un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-168">The instance uses the client ID when it requests an access token.</span></span> | <span data-ttu-id="f0ec6-169">N/A</span><span class="sxs-lookup"><span data-stu-id="f0ec6-169">NA</span></span>
<span data-ttu-id="f0ec6-170">Secret client</span><span class="sxs-lookup"><span data-stu-id="f0ec6-170">Client secret</span></span> | <span data-ttu-id="f0ec6-171">Avec cette chaîne secrète partagée, l’instance ServiceNow et Microsoft Search (recherche Microsoft) autorisent les communications entre eux.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-171">With this shared secret string, the ServiceNow instance and Microsoft Search authorize communications with each other.</span></span> | <span data-ttu-id="f0ec6-172">Suivez les meilleures pratiques en matière de sécurité en traitant le secret comme un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-172">Follow security best-practices by treating the secret as a password.</span></span>
<span data-ttu-id="f0ec6-173">URL de redirection</span><span class="sxs-lookup"><span data-stu-id="f0ec6-173">Redirect URL</span></span> | <span data-ttu-id="f0ec6-174">URL de rappel requise vers qui le serveur d’autorisation redirige.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-174">A required callback URL that the authorization server redirects to.</span></span> | https://gcs.office.com/v1.0/admin/oauth/callback
<span data-ttu-id="f0ec6-175">Logo URL</span><span class="sxs-lookup"><span data-stu-id="f0ec6-175">Logo URL</span></span> | <span data-ttu-id="f0ec6-176">URL qui contient l’image du logo de l’application.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-176">A URL that contains the image for the application logo.</span></span> | <span data-ttu-id="f0ec6-177">N/A</span><span class="sxs-lookup"><span data-stu-id="f0ec6-177">NA</span></span>
<span data-ttu-id="f0ec6-178">Actif</span><span class="sxs-lookup"><span data-stu-id="f0ec6-178">Active</span></span> | <span data-ttu-id="f0ec6-179">Activez la case à cocher pour rendre le Registre d’application actif.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-179">Select the check box to make the application registry active.</span></span> | <span data-ttu-id="f0ec6-180">Définir sur actif</span><span class="sxs-lookup"><span data-stu-id="f0ec6-180">Set to active</span></span>
<span data-ttu-id="f0ec6-181">Durée de vie du jeton d’actualisation</span><span class="sxs-lookup"><span data-stu-id="f0ec6-181">Refresh token lifespan</span></span> | <span data-ttu-id="f0ec6-182">Nombre de secondes de validité d’un jeton d’actualisation.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-182">The number of seconds that a refresh token is valid.</span></span> <span data-ttu-id="f0ec6-183">Par défaut, les jetons d’actualisation expirent dans les 100 jours (8 640 000 secondes).</span><span class="sxs-lookup"><span data-stu-id="f0ec6-183">By default, refresh tokens expire in 100 days (8,640,000 seconds).</span></span> | <span data-ttu-id="f0ec6-184">31 536 000 (1 an)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-184">31,536,000 (1 year)</span></span>
<span data-ttu-id="f0ec6-185">Durée de vie du jeton d’accès</span><span class="sxs-lookup"><span data-stu-id="f0ec6-185">Access token lifespan</span></span> | <span data-ttu-id="f0ec6-186">Nombre de secondes de validité d’un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-186">The number of seconds that an access token is valid.</span></span> | <span data-ttu-id="f0ec6-187">43 200 (12 heures)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-187">43,200 (12 hours)</span></span>

<span data-ttu-id="f0ec6-188">Entrez l’ID client et la secret client pour vous connecter à votre instance.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-188">Enter the client id and client secret to connect to your instance.</span></span> <span data-ttu-id="f0ec6-189">Une fois connecté, utilisez les informations d’identification d’un compte ServiceNow pour authentifier l’autorisation d’analyse.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-189">After connecting, use a ServiceNow account credential to authenticate permission to crawl.</span></span> <span data-ttu-id="f0ec6-190">Le compte doit au moins avoir un **rôle de** connaissance.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-190">The account should at least have **knowledge** role.</span></span> <span data-ttu-id="f0ec6-191">Reportez-vous au tableau au début de l’étape 3 : [paramètres](#step-3-connection-settings) de connexion pour fournir un accès en lecture à d’autres enregistrements de table ServiceNow et indexer les autorisations des critères utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-191">Refer the table in the beginning of [step 3: connection settings](#step-3-connection-settings) for providing read access to more ServiceNow table records and index user criteria permissions.</span></span>

## <a name="step-33-azure-ad-openid-connect"></a><span data-ttu-id="f0ec6-192">Étape 3.3 : Azure AD OpenID Connecter</span><span class="sxs-lookup"><span data-stu-id="f0ec6-192">Step 3.3: Azure AD OpenID Connect</span></span>

<span data-ttu-id="f0ec6-193">Pour utiliser Azure AD OpenID Connecter pour l’authentification, suivez les étapes ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-193">To use Azure AD OpenID Connect for authentication, follow the steps below.</span></span>

### <a name="step-331-register-a-new-application-in-azure-active-directory"></a><span data-ttu-id="f0ec6-194">Étape 3.3.1 : inscrire une nouvelle application dans Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="f0ec6-194">Step 3.3.1: Register a new application in Azure Active Directory</span></span>

<span data-ttu-id="f0ec6-195">Pour en savoir plus sur l’inscription d’une nouvelle application dans Azure Active Directory, voir [Inscrire une application.](/azure/active-directory/develop/quickstart-register-app#register-an-application)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-195">To learn about registering a new application in Azure Active Directory, see [Register an application](/azure/active-directory/develop/quickstart-register-app#register-an-application).</span></span> <span data-ttu-id="f0ec6-196">Sélectionnez l’annuaire d’organisation client unique.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-196">Select single tenant organizational directory.</span></span> <span data-ttu-id="f0ec6-197">L’URI de redirection n’est pas nécessaire.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-197">Redirect URI isn't needed.</span></span> <span data-ttu-id="f0ec6-198">Après l’inscription, notez l’ID de l’application (client) et l’ID d’annuaire (client).</span><span class="sxs-lookup"><span data-stu-id="f0ec6-198">After registration, note down the Application (client) ID and Directory (tenant) ID.</span></span>

### <a name="step-332-create-a-client-secret"></a><span data-ttu-id="f0ec6-199">Étape 3.3.2 : Créer une secret client</span><span class="sxs-lookup"><span data-stu-id="f0ec6-199">Step 3.3.2: Create a client secret</span></span>

<span data-ttu-id="f0ec6-200">Pour en savoir plus sur la création d’une secret client, voir [Création d’une question secrète client.](/azure/active-directory/develop/quickstart-register-app#add-a-client-secret)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-200">To learn about creating a client secret, see [Creating a client secret](/azure/active-directory/develop/quickstart-register-app#add-a-client-secret).</span></span> <span data-ttu-id="f0ec6-201">Prenez note de la secret client.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-201">Take a note of client secret.</span></span>

### <a name="step-333-retrieve-service-principal-object-identifier"></a><span data-ttu-id="f0ec6-202">Étape 3.3.3 : Récupérer l’identificateur d’objet principal du service</span><span class="sxs-lookup"><span data-stu-id="f0ec6-202">Step 3.3.3: Retrieve Service Principal Object Identifier</span></span>

<span data-ttu-id="f0ec6-203">Suivez les étapes pour récupérer l’identificateur d’objet principal du service</span><span class="sxs-lookup"><span data-stu-id="f0ec6-203">Follow the steps to retrieve Service Principal Object Identifier</span></span>

1. <span data-ttu-id="f0ec6-204">Exécutez PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-204">Run PowerShell.</span></span>

2. <span data-ttu-id="f0ec6-205">Installez Azure PowerShell à l’aide de la commande suivante.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-205">Install Azure PowerShell using the following command.</span></span>

   ```powershell
   Install-Module -Name Az -AllowClobber -Scope CurrentUser
   ```

3. <span data-ttu-id="f0ec6-206">Connecter azure.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-206">Connect to Azure.</span></span>

   ```powershell
   Connect-AzAccount
   ```

4. <span data-ttu-id="f0ec6-207">Obtenir l’identificateur d’objet principal du service.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-207">Get Service Principal Object Identifier.</span></span>

   ```powershell
   Get-AzADServicePrincipal -ApplicationId "Application-ID"
   ```
   <span data-ttu-id="f0ec6-208">Remplacez « Application-ID » par l’ID d’application (client) (sans guillemets) de l’application que vous avez inscrite à l’étape 3.a.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-208">Replace "Application-ID" with Application (client) ID (without quotes) of the application you registered in step 3.a.</span></span> <span data-ttu-id="f0ec6-209">Notez la valeur de l’objet ID à partir de la sortie PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-209">Note the value of ID object from PowerShell output.</span></span> <span data-ttu-id="f0ec6-210">Il s’agit de l’ID principal de service.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-210">It's the Service Principal ID.</span></span>

<span data-ttu-id="f0ec6-211">Vous avez maintenant toutes les informations requises à partir du portail Azure.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-211">Now you have all the information required from Azure portal.</span></span> <span data-ttu-id="f0ec6-212">Un résumé rapide des informations est présenté dans le tableau ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-212">A quick summary of the information is given in the table below.</span></span>

<span data-ttu-id="f0ec6-213">Propriété</span><span class="sxs-lookup"><span data-stu-id="f0ec6-213">Property</span></span> | <span data-ttu-id="f0ec6-214">Description</span><span class="sxs-lookup"><span data-stu-id="f0ec6-214">Description</span></span> 
--- | ---
<span data-ttu-id="f0ec6-215">ID d’annuaire (ID de client)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-215">Directory ID (Tenant ID)</span></span> | <span data-ttu-id="f0ec6-216">ID unique du client Azure Active Directory, à l’étape 3.a.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-216">Unique ID of the Azure Active Directory tenant, from step 3.a.</span></span>
<span data-ttu-id="f0ec6-217">ID d’application (ID client)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-217">Application ID (Client ID)</span></span> | <span data-ttu-id="f0ec6-218">ID unique de l’application inscrite à l’étape 3.a.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-218">Unique ID of the application registered in step 3.a.</span></span>
<span data-ttu-id="f0ec6-219">Clé secrète client</span><span class="sxs-lookup"><span data-stu-id="f0ec6-219">Client Secret</span></span> | <span data-ttu-id="f0ec6-220">Clé secrète de l’application (à partir de l’étape 3.b).</span><span class="sxs-lookup"><span data-stu-id="f0ec6-220">The secret key of the application (from step 3.b).</span></span> <span data-ttu-id="f0ec6-221">Traitez-le comme un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-221">Treat it like a password.</span></span>
<span data-ttu-id="f0ec6-222">Service Principal ID</span><span class="sxs-lookup"><span data-stu-id="f0ec6-222">Service Principal ID</span></span> | <span data-ttu-id="f0ec6-223">Identité de l’application en cours d’exécution en tant que service.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-223">An identity for the application running as a service.</span></span> <span data-ttu-id="f0ec6-224">(à partir de l’étape 3.c)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-224">(from step 3.c)</span></span>

### <a name="step-334-register-servicenow-application"></a><span data-ttu-id="f0ec6-225">Étape 3.3.4 : inscrire l’application ServiceNow</span><span class="sxs-lookup"><span data-stu-id="f0ec6-225">Step 3.3.4: Register ServiceNow Application</span></span>

<span data-ttu-id="f0ec6-226">L’instance ServiceNow a besoin de la configuration suivante :</span><span class="sxs-lookup"><span data-stu-id="f0ec6-226">The ServiceNow instance needs the following configuration:</span></span>

1. <span data-ttu-id="f0ec6-227">Inscrivez une nouvelle entité OAuth OIDC.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-227">Register a new OAuth OIDC entity.</span></span> <span data-ttu-id="f0ec6-228">Pour en savoir plus, [voir Créer un fournisseur OAuth OIDC.](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-228">To learn, see [Create an OAuth OIDC provider](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html).</span></span>

2. <span data-ttu-id="f0ec6-229">Le tableau suivant fournit des instructions sur la façon de remplir le formulaire d’inscription du fournisseur OIDC</span><span class="sxs-lookup"><span data-stu-id="f0ec6-229">The following table provides guidance on how to fill out OIDC provider registration form</span></span>

   <span data-ttu-id="f0ec6-230">Champ</span><span class="sxs-lookup"><span data-stu-id="f0ec6-230">Field</span></span> | <span data-ttu-id="f0ec6-231">Description</span><span class="sxs-lookup"><span data-stu-id="f0ec6-231">Description</span></span> | <span data-ttu-id="f0ec6-232">Valeur recommandée</span><span class="sxs-lookup"><span data-stu-id="f0ec6-232">Recommended Value</span></span>
   --- | --- | ---
   <span data-ttu-id="f0ec6-233">Nom</span><span class="sxs-lookup"><span data-stu-id="f0ec6-233">Name</span></span> | <span data-ttu-id="f0ec6-234">Nom unique qui identifie l’entité OIDC OAuth.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-234">A unique name that identifies the OAuth OIDC entity.</span></span> | <span data-ttu-id="f0ec6-235">Azure AD</span><span class="sxs-lookup"><span data-stu-id="f0ec6-235">Azure AD</span></span>
   <span data-ttu-id="f0ec6-236">ID du client</span><span class="sxs-lookup"><span data-stu-id="f0ec6-236">Client ID</span></span> | <span data-ttu-id="f0ec6-237">ID client de l’application inscrite sur le serveur OAuth OIDC tiers.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-237">The client ID of the application registered in the third-party OAuth OIDC server.</span></span> <span data-ttu-id="f0ec6-238">L’instance utilise l’ID client lors de la demande d’un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-238">The instance uses the client ID when requesting an access token.</span></span> | <span data-ttu-id="f0ec6-239">ID d’application (client) de l’étape 3.a</span><span class="sxs-lookup"><span data-stu-id="f0ec6-239">Application (Client) ID from step 3.a</span></span>
   <span data-ttu-id="f0ec6-240">Clé secrète client</span><span class="sxs-lookup"><span data-stu-id="f0ec6-240">Client Secret</span></span> | <span data-ttu-id="f0ec6-241">La secret client de l’application inscrite sur le serveur OAuth OIDC tiers.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-241">The client secret of the application registered in the third-party OAuth OIDC server.</span></span> | <span data-ttu-id="f0ec6-242">Secret client de l’étape 3.b</span><span class="sxs-lookup"><span data-stu-id="f0ec6-242">Client Secret from step 3.b</span></span>

   <span data-ttu-id="f0ec6-243">Toutes les autres valeurs peuvent être par défaut.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-243">All other values can be default.</span></span>

3. <span data-ttu-id="f0ec6-244">Dans le formulaire d’inscription du fournisseur OIDC, vous devez ajouter une nouvelle configuration de fournisseur OIDC.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-244">In the OIDC provider registration form, you need to add a new OIDC provider configuration.</span></span> <span data-ttu-id="f0ec6-245">Sélectionnez l’icône de recherche par rapport au champ Configuration du fournisseur *OAuth OIDC* pour ouvrir les enregistrements des configurations OIDC.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-245">Select the search icon against *OAuth OIDC Provider Configuration* field to open the records of OIDC configurations.</span></span> <span data-ttu-id="f0ec6-246">Sélectionnez Nouveau.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-246">Select New.</span></span>

4. <span data-ttu-id="f0ec6-247">Le tableau suivant fournit des instructions sur la façon de remplir le formulaire de configuration du fournisseur OIDC</span><span class="sxs-lookup"><span data-stu-id="f0ec6-247">The following table provides guidance on how to fill out OIDC provider configuration form</span></span>

   <span data-ttu-id="f0ec6-248">Champ</span><span class="sxs-lookup"><span data-stu-id="f0ec6-248">Field</span></span> | <span data-ttu-id="f0ec6-249">Valeur recommandée</span><span class="sxs-lookup"><span data-stu-id="f0ec6-249">Recommended Value</span></span>
   --- | ---
   <span data-ttu-id="f0ec6-250">Fournisseur OIDC</span><span class="sxs-lookup"><span data-stu-id="f0ec6-250">OIDC Provider</span></span> |  <span data-ttu-id="f0ec6-251">Azure AD</span><span class="sxs-lookup"><span data-stu-id="f0ec6-251">Azure AD</span></span>
   <span data-ttu-id="f0ec6-252">URL des métadonnées OIDC</span><span class="sxs-lookup"><span data-stu-id="f0ec6-252">OIDC Metadata URL</span></span> | <span data-ttu-id="f0ec6-253">L’URL doit être au formulaire https \: //login.microsoftonline.com/<tenandId">/.well-known/openid-configuration</span><span class="sxs-lookup"><span data-stu-id="f0ec6-253">The URL must be in the form https\://login.microsoftonline.com/<tenandId">/.well-known/openid-configuration</span></span> <br/><span data-ttu-id="f0ec6-254">Remplacez « tenantID » par l’ID d’annuaire (client) de l’étape 3.a.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-254">Replace "tenantID" with Directory (tenant) ID from step 3.a.</span></span>
   <span data-ttu-id="f0ec6-255">Durée de vie du cache de configuration OIDC</span><span class="sxs-lookup"><span data-stu-id="f0ec6-255">OIDC Configuration Cache Life Span</span></span> |  <span data-ttu-id="f0ec6-256">120</span><span class="sxs-lookup"><span data-stu-id="f0ec6-256">120</span></span>
   <span data-ttu-id="f0ec6-257">Application</span><span class="sxs-lookup"><span data-stu-id="f0ec6-257">Application</span></span> | <span data-ttu-id="f0ec6-258">Global</span><span class="sxs-lookup"><span data-stu-id="f0ec6-258">Global</span></span>
   <span data-ttu-id="f0ec6-259">Revendication de l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="f0ec6-259">User Claim</span></span> | <span data-ttu-id="f0ec6-260">sub</span><span class="sxs-lookup"><span data-stu-id="f0ec6-260">sub</span></span>
   <span data-ttu-id="f0ec6-261">Champ Utilisateur</span><span class="sxs-lookup"><span data-stu-id="f0ec6-261">User Field</span></span> | <span data-ttu-id="f0ec6-262">ID utilisateur</span><span class="sxs-lookup"><span data-stu-id="f0ec6-262">User ID</span></span>
   <span data-ttu-id="f0ec6-263">Activer la vérification des revendications JTI</span><span class="sxs-lookup"><span data-stu-id="f0ec6-263">Enable JTI claim verification</span></span> | <span data-ttu-id="f0ec6-264">Désactivé</span><span class="sxs-lookup"><span data-stu-id="f0ec6-264">Disabled</span></span>

5. <span data-ttu-id="f0ec6-265">Sélectionnez Envoyer et mettre à jour le formulaire d’entité OAuth OIDC.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-265">Select Submit and Update the OAuth OIDC Entity form.</span></span>

### <a name="step-335-create-a-servicenow-account"></a><span data-ttu-id="f0ec6-266">Étape 3.3.5 : Créer un compte ServiceNow</span><span class="sxs-lookup"><span data-stu-id="f0ec6-266">Step 3.3.5: Create a ServiceNow account</span></span>

<span data-ttu-id="f0ec6-267">Reportez-vous aux instructions pour créer un compte ServiceNow, [créer un utilisateur dans ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html).</span><span class="sxs-lookup"><span data-stu-id="f0ec6-267">Refer the instructions to create a ServiceNow account, [create a user in ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html).</span></span>

<span data-ttu-id="f0ec6-268">Le tableau suivant fournit des instructions sur la façon de remplir l’inscription du compte d’utilisateur ServiceNow</span><span class="sxs-lookup"><span data-stu-id="f0ec6-268">The following table provides guidance on how to fill out the ServiceNow user account registration</span></span>

<span data-ttu-id="f0ec6-269">Champ</span><span class="sxs-lookup"><span data-stu-id="f0ec6-269">Field</span></span> | <span data-ttu-id="f0ec6-270">Valeur recommandée</span><span class="sxs-lookup"><span data-stu-id="f0ec6-270">Recommended Value</span></span>
--- | ---
<span data-ttu-id="f0ec6-271">ID utilisateur</span><span class="sxs-lookup"><span data-stu-id="f0ec6-271">User ID</span></span> | <span data-ttu-id="f0ec6-272">ID principal de service de l’étape 3.c</span><span class="sxs-lookup"><span data-stu-id="f0ec6-272">Service Principal ID from step 3.c</span></span>
<span data-ttu-id="f0ec6-273">Accès au service Web uniquement</span><span class="sxs-lookup"><span data-stu-id="f0ec6-273">Web service access only</span></span> | <span data-ttu-id="f0ec6-274">Checked</span><span class="sxs-lookup"><span data-stu-id="f0ec6-274">Checked</span></span>

<span data-ttu-id="f0ec6-275">Toutes les autres valeurs peuvent être laissées à la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-275">All other values can be left to default.</span></span>

### <a name="step-336-enable-knowledge-role-for-the-servicenow-account"></a><span data-ttu-id="f0ec6-276">Étape 3.3.6 : activer le rôle De connaissances pour le compte ServiceNow</span><span class="sxs-lookup"><span data-stu-id="f0ec6-276">Step 3.3.6: Enable Knowledge role for the ServiceNow account</span></span>

<span data-ttu-id="f0ec6-277">Accédez au compte ServiceNow que vous avez créé avec l’ID principal ServiceNow en tant qu’ID d’utilisateur et attribuez le rôle de connaissance.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-277">Access the ServiceNow account you created with ServiceNow Principal ID as User ID and assign the knowledge role.</span></span> <span data-ttu-id="f0ec6-278">Vous pouvez trouver des instructions sur l’attribution d’un rôle à un compte ServiceNow ici, attribuer [un rôle à un utilisateur.](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-278">Instructions to assigning a role to a ServiceNow account can be found here, [assign a role to a user](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span> <span data-ttu-id="f0ec6-279">Reportez-vous au tableau au début de l’étape 3 : [paramètres](#step-3-connection-settings) de connexion pour fournir un accès en lecture à d’autres enregistrements de table ServiceNow et indexer les autorisations des critères utilisateur.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-279">Refer the table in the beginning of [step 3: connection settings](#step-3-connection-settings) for providing read access to more ServiceNow table records and index user criteria permissions.</span></span>

<span data-ttu-id="f0ec6-280">Utilisez l’ID d’application comme ID client (à partir de l’étape 3.a) et la secret client (à partir de l’étape 3.b) dans l’Assistant configuration du centre d’administration pour vous authentifier auprès de votre instance ServiceNow à l’aide d’Azure AD OpenID Connecter.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-280">Use Application ID as Client ID (from step 3.a), and Client secret (from step 3.b) in admin center configuration wizard to authenticate to your ServiceNow instance using Azure AD OpenID Connect.</span></span>

## <a name="step-4-select-properties-and-filter-data"></a><span data-ttu-id="f0ec6-281">Étape 4 : sélectionner les propriétés et filtrer les données</span><span class="sxs-lookup"><span data-stu-id="f0ec6-281">Step 4: Select properties and filter data</span></span>

<span data-ttu-id="f0ec6-282">Dans cette étape, vous pouvez ajouter ou supprimer des propriétés disponibles de votre source de données ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-282">In this step, you can add or remove available properties from your ServiceNow data source.</span></span> <span data-ttu-id="f0ec6-283">Microsoft 365 a déjà sélectionné quelques propriétés par défaut.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-283">Microsoft 365 has already selected few properties by default.</span></span>

<span data-ttu-id="f0ec6-284">Avec une chaîne de requête ServiceNow, vous pouvez spécifier des conditions pour la synchronisation des articles.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-284">With a ServiceNow query string, you can specify conditions for syncing articles.</span></span> <span data-ttu-id="f0ec6-285">Il s’agit **d’une** clause Where dans une **SQL Select.**</span><span class="sxs-lookup"><span data-stu-id="f0ec6-285">It's like a **Where** clause in a **SQL Select** statement.</span></span> <span data-ttu-id="f0ec6-286">Par exemple, vous pouvez choisir d’indexer uniquement les articles publiés et actifs.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-286">For example, you can choose to index only articles that are published and active.</span></span> <span data-ttu-id="f0ec6-287">Pour en savoir plus sur la création de votre propre chaîne de requête, voir Générer une chaîne de requête [codée à l’aide d’un filtre.](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-287">To learn about creating your own query string, see [Generate an encoded query string using a filter](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html).</span></span>

<span data-ttu-id="f0ec6-288">Utilisez le bouton aperçu des résultats pour vérifier les exemples de valeurs des propriétés et du filtre de requête sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-288">Use the preview results button to verify the sample values of the selected properties and query filter.</span></span>

## <a name="step-5-manage-search-permissions"></a><span data-ttu-id="f0ec6-289">Étape 5 : Gérer les autorisations de recherche</span><span class="sxs-lookup"><span data-stu-id="f0ec6-289">Step 5: Manage search permissions</span></span>

<span data-ttu-id="f0ec6-290">Le connecteur ServiceNow prend en  charge les autorisations de recherche visibles par tout le monde ou uniquement par les personnes ayant **accès à cette source de données.**</span><span class="sxs-lookup"><span data-stu-id="f0ec6-290">The ServiceNow connector supports search permissions visible to **Everyone** or **Only people with access to this data source**.</span></span> <span data-ttu-id="f0ec6-291">Les données indexées apparaissent dans les résultats de la recherche et sont visibles par tous les utilisateurs de l’organisation ou les utilisateurs qui y ont accès via l’autorisation des critères utilisateur, respectivement.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-291">Indexed data appears in the search results and is visible to all users in the organization or users who have access to them via user criteria permission respectively.</span></span> <span data-ttu-id="f0ec6-292">Si un article de base de connaissances n’est pas activé avec des critères utilisateur, il apparaît dans les résultats de recherche de tous les membres de l’organisation.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-292">If a knowledge article is not enabled with a user criteria, it will appear in search results of everyone in the organization.</span></span>

<span data-ttu-id="f0ec6-293">ServiceNow Graph Connector prend en charge les autorisations de critères utilisateur par défaut sans scripts avancés.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-293">ServiceNow Graph Connector supports default user criteria permissions without advanced scripts.</span></span> <span data-ttu-id="f0ec6-294">Lorsque le connecteur rencontre des critères utilisateur avec un script avancé, toutes les données utilisant ces critères utilisateur n’apparaissent pas dans les résultats de la recherche.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-294">When the connector encounters a user criteria with advanced script, all data using that user criteria will not appear in search results.</span></span>

>[!NOTE]
><span data-ttu-id="f0ec6-295">Pour choisir uniquement **les personnes ayant accès à cette source de** données, activez les mises à jour de publication ciblées sur votre client.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-295">To choose **Only people with access to this data source**, enable targeted release updates on your tenant.</span></span> <span data-ttu-id="f0ec6-296">Pour en savoir plus sur la configuration de la version ciblée, consultez les options de publication ciblée [du programme d’installation.](/microsoft-365/admin/manage/release-options-in-office-365?preserve-view=true&view=o365-worldwide)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-296">To learn about setting up targeted release, see [Setup Targeted release options.](/microsoft-365/admin/manage/release-options-in-office-365?preserve-view=true&view=o365-worldwide)</span></span>

<span data-ttu-id="f0ec6-297">Si vous choisissez uniquement les personnes ayant accès à cette **source** de données, vous devez choisir si votre instance ServiceNow dispose d’utilisateurs Azure Active Directory (AAD) ou d’utilisateurs non AAD.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-297">If you choose **Only people with access to this data source**, you need to further choose whether your ServiceNow instance has Azure Active Directory (AAD) provisioned users or Non-AAD users.</span></span>

>[!NOTE]
><span data-ttu-id="f0ec6-298">Si vous choisissez AAD comme type de source d’identité, assurez-vous que vous affectez la propriété source UserPrincipalName (UPN) à la propriété ciblée de messagerie dans ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-298">If you choose AAD as the type of identity source, make sure you are assigning UserPrincipalName (UPN) source property to email targeted property in ServiceNow.</span></span> <span data-ttu-id="f0ec6-299">Pour vérifier ou modifier vos mappages, voir Personnalisation des mappages d’attributs de mise en service utilisateur pour les [applications SaaS dans Azure Active Directory](/azure/active-directory/app-provisioning/customize-application-attributes).</span><span class="sxs-lookup"><span data-stu-id="f0ec6-299">To verify or change your mappings, see [Customizing user provisioning attribute-mappings for SaaS applications in Azure Active Directory](/azure/active-directory/app-provisioning/customize-application-attributes).</span></span>

<span data-ttu-id="f0ec6-300">Si vous avez choisi « non-AAD » pour le type d’identité, voir Mappage de vos [identités non-Azure AD](map-non-aad.md) pour obtenir des instructions sur le mappage des identités.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-300">If you have elected "non-AAD" for the identity type see [Map your non-Azure AD Identities](map-non-aad.md) for instructions on mapping the identities.</span></span> 

<span data-ttu-id="f0ec6-301">Vous pouvez également consulter la vidéo suivante pour en savoir plus sur la gestion des autorisations de recherche.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-301">You can also refer the following video to learn more about managing search permissions.</span></span>

<span data-ttu-id="f0ec6-302">[![Gestion des autorisations de recherche dans Microsoft Graph Connector for ServiceNow](https://img.youtube.com/vi/TVSkJpk1RiE/hqdefault.jpg)](https://www.youtube.com/watch?v=TVSkJpk1RiE)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-302">[![Managing Search Permissions in Microsoft Graph Connector for ServiceNow](https://img.youtube.com/vi/TVSkJpk1RiE/hqdefault.jpg)](https://www.youtube.com/watch?v=TVSkJpk1RiE)</span></span>

## <a name="step-6-assign-property-labels"></a><span data-ttu-id="f0ec6-303">Étape 6 : Attribuer des étiquettes de propriété</span><span class="sxs-lookup"><span data-stu-id="f0ec6-303">Step 6: Assign property labels</span></span>

<span data-ttu-id="f0ec6-304">Suivez les instructions d’installation générales.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-304">Follow the general setup instructions.</span></span>

## <a name="step-7-manage-schema"></a><span data-ttu-id="f0ec6-305">Étape 7 : Gérer le schéma</span><span class="sxs-lookup"><span data-stu-id="f0ec6-305">Step 7: Manage schema</span></span>

<span data-ttu-id="f0ec6-306">Suivez les instructions d’installation générales.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-306">Follow the general setup instructions.</span></span>

## <a name="step-8-choose-refresh-settings"></a><span data-ttu-id="f0ec6-307">Étape 8 : Choisir les paramètres d’actualisation</span><span class="sxs-lookup"><span data-stu-id="f0ec6-307">Step 8: Choose refresh settings</span></span>

<span data-ttu-id="f0ec6-308">Suivez les instructions d’installation générales.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-308">Follow the general setup instructions.</span></span>

>[!NOTE]
><span data-ttu-id="f0ec6-309">Pour les identités, seule l’analyse complète programmée sera appliquée.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-309">For identities, only full crawl scheduled will be applied.</span></span>

## <a name="step-9-review-connection"></a><span data-ttu-id="f0ec6-310">Étape 9 : Examiner la connexion</span><span class="sxs-lookup"><span data-stu-id="f0ec6-310">Step 9: Review Connection</span></span>

<span data-ttu-id="f0ec6-311">Suivez les [instructions d’installation générales.](./configure-connector.md)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-311">Follow the general [setup instructions](./configure-connector.md).</span></span>

<span data-ttu-id="f0ec6-312">Le connecteur Graph ServiceNow présente les limitations suivantes dans sa dernière version :</span><span class="sxs-lookup"><span data-stu-id="f0ec6-312">ServiceNow Graph connector has the following limitations in its latest release:</span></span>

<span data-ttu-id="f0ec6-313">Après avoir publié la connexion, vous devez personnaliser la page des résultats de la recherche.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-313">After publishing the connection, you need to customize the search results page.</span></span> <span data-ttu-id="f0ec6-314">Pour en savoir plus sur la personnalisation des résultats de recherche, voir [Personnaliser la page des résultats de la recherche.](/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-314">To learn about customizing search results, see [Customize the search results page](/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span></span>

## <a name="limitations"></a><span data-ttu-id="f0ec6-315">Limites</span><span class="sxs-lookup"><span data-stu-id="f0ec6-315">Limitations</span></span>
<span data-ttu-id="f0ec6-316">Le connecteur Graph ServiceNow présente les limitations suivantes dans sa dernière version :</span><span class="sxs-lookup"><span data-stu-id="f0ec6-316">ServiceNow Graph connector has the following limitations in its latest release:</span></span>
- <span data-ttu-id="f0ec6-317">L’indexation des articles de la base de connaissances accessibles à tous les membres d’une organisation est une fonctionnalité généralement disponible.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-317">Indexing knowledge articles available to everyone in an organization is a generally available feature.</span></span>
- <span data-ttu-id="f0ec6-318">*Seules les personnes ayant accès* à cette fonctionnalité de source de données dans l’étape Gérer les autorisations de recherche sont dans le canal de publication ciblé et traitent uniquement les autorisations des critères utilisateur. [](https://hi.service-now.com/kb_view.do?sysparm_article=KB0550924)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-318">*Only people with access to this data source* feature under Manage Search permissions step is in targeted release channel and processes only [user criteria](https://hi.service-now.com/kb_view.do?sysparm_article=KB0550924) permissions.</span></span> <span data-ttu-id="f0ec6-319">Tout autre type d’autorisation d’accès ne sera pas appliqué dans les résultats de la recherche.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-319">Any other type of access permissions will not be applied in the search results.</span></span>
- <span data-ttu-id="f0ec6-320">Les critères utilisateur avec des scripts avancés ne sont pas pris en charge dans la version actuelle.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-320">User criteria with advanced scripts are not supported in the current version.</span></span> <span data-ttu-id="f0ec6-321">Tous les articles de la base de connaissances avec une telle restriction d’accès seront indexés avec refuser l’accès à tout le monde, c’est-à-dire qu’ils n’apparaîtront pas dans les résultats de la recherche pour les utilisateurs tant que nous ne les auront pas supportés.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-321">Any knowledge articles with such an access restriction will be indexed with deny everyone access i.e. they will not appear in search results to any user until we support them.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="f0ec6-322">Résolution des problèmes</span><span class="sxs-lookup"><span data-stu-id="f0ec6-322">Troubleshooting</span></span>
<span data-ttu-id="f0ec6-323">Après avoir publié votre connexion, personnalisé la page des résultats, vous pouvez passer en revue l’état sous l’onglet **Sources** de données dans le [Centre d’administration.](https://admin.microsoft.com)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-323">After publishing your connection, customizing the results page, you can review the status under the **Data Sources** tab in the [admin center](https://admin.microsoft.com).</span></span> <span data-ttu-id="f0ec6-324">Pour découvrir comment effectuer des mises à jour et des suppressions, voir [Gérer votre connecteur.](manage-connector.md)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-324">To learn how to make updates and deletions, see [Manage your connector](manage-connector.md).</span></span>
<span data-ttu-id="f0ec6-325">Vous trouverez ci-dessous les étapes de résolution des problèmes couramment observés.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-325">You can find troubleshooting steps for commonly seen issues below.</span></span>
### <a name="1-unable-to-login-due-to-single-sign-on-enabled-servicenow-instance"></a><span data-ttu-id="f0ec6-326">1. Impossible de se connecter en raison de l'Sign-On service ServiceNow activée</span><span class="sxs-lookup"><span data-stu-id="f0ec6-326">1. Unable to login due to Single Sign-On enabled ServiceNow instance</span></span>

<span data-ttu-id="f0ec6-327">Si votre organisation a activé l'Sign-On (SSO) sur ServiceNow, vous risquez de ne pas pouvoir vous connecter au compte de service.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-327">If your organization has enabled Single Sign-On (SSO) to ServiceNow, you may have trouble logging in with the service account.</span></span> <span data-ttu-id="f0ec6-328">Vous pouvez afficher la connexion basée <em> `login.do` </em> sur le nom d’utilisateur et le mot de passe en ajoutant l’URL de l’instance ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-328">You can bring up username and password based login by adding <em> `login.do`</em> to the ServiceNow instance URL.</span></span> <span data-ttu-id="f0ec6-329">Exemple.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-329">Example.</span></span> `https://<your-organization-domain>.service-now.com./login.do` 

### <a name="2-unauthorized-or-forbidden-response-to-api-request"></a><span data-ttu-id="f0ec6-330">2. Réponse non autorisée ou interdite à la demande d’API</span><span class="sxs-lookup"><span data-stu-id="f0ec6-330">2. Unauthorized or forbidden response to API request</span></span>

#### <a name="21-check-table-access-permissions"></a><span data-ttu-id="f0ec6-331">2.1.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-331">2.1.</span></span> <span data-ttu-id="f0ec6-332">Vérifier les autorisations d’accès aux tables</span><span class="sxs-lookup"><span data-stu-id="f0ec6-332">Check table access permissions</span></span>
<span data-ttu-id="f0ec6-333">Si vous voyez une réponse interdite ou non autorisée dans l’état de connexion, vérifiez si le compte de service a requis l’accès aux tables mentionnées à l’étape [3 : paramètres de connexion.](#step-3-connection-settings)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-333">If you see forbidden or unauthorized response in connection status, check if the service account has required access to the tables mentioned in [step 3: connection settings](#step-3-connection-settings).</span></span> <span data-ttu-id="f0ec6-334">Vérifiez si toutes les colonnes des tableaux ont un accès en lecture.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-334">Please check whether all the columns in the tables have read access.</span></span>

#### <a name="22-check-if-servicenow-instance-behind-firewall"></a><span data-ttu-id="f0ec6-335">2.2.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-335">2.2.</span></span> <span data-ttu-id="f0ec6-336">Vérifier si l’instance ServiceNow est derrière le pare-feu</span><span class="sxs-lookup"><span data-stu-id="f0ec6-336">Check if ServiceNow instance behind firewall</span></span>
<span data-ttu-id="f0ec6-337">Graph Le connecteur peut ne pas être en mesure d’atteindre votre instance ServiceNow si elle se trouve derrière un pare-feu réseau.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-337">Graph Connector may not be able to reach your ServiceNow instance if it is behind a network firewall.</span></span> <span data-ttu-id="f0ec6-338">Vous devez autoriser explicitement l’accès Graph service Connecteur.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-338">You will need explicitly allow access to Graph Connector service.</span></span> <span data-ttu-id="f0ec6-339">Vous trouverez la plage d’adresses IP publiques Graph Service Connecteur dans le tableau ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-339">You can find public IP address range of Graph Connector Service in the table below.</span></span> <span data-ttu-id="f0ec6-340">En fonction de votre région de client, ajoutez-la à votre liste blanche réseau d’instances ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="f0ec6-340">Based on your tenant region, add it to your ServiceNow instance network whitelist.</span></span>

<span data-ttu-id="f0ec6-341">**Environnement**</span><span class="sxs-lookup"><span data-stu-id="f0ec6-341">**Environment**</span></span> | <span data-ttu-id="f0ec6-342">**Région**</span><span class="sxs-lookup"><span data-stu-id="f0ec6-342">**Region**</span></span> | <span data-ttu-id="f0ec6-343">**Range**</span><span class="sxs-lookup"><span data-stu-id="f0ec6-343">**Range**</span></span>
--- | --- | ---
<span data-ttu-id="f0ec6-344">PROD</span><span class="sxs-lookup"><span data-stu-id="f0ec6-344">PROD</span></span> | <span data-ttu-id="f0ec6-345">Amérique du Nord</span><span class="sxs-lookup"><span data-stu-id="f0ec6-345">North America</span></span> | <span data-ttu-id="f0ec6-346">52.250.92.252/30, 52.224.250.216/30</span><span class="sxs-lookup"><span data-stu-id="f0ec6-346">52.250.92.252/30, 52.224.250.216/30</span></span>
<span data-ttu-id="f0ec6-347">PROD</span><span class="sxs-lookup"><span data-stu-id="f0ec6-347">PROD</span></span> | <span data-ttu-id="f0ec6-348">Europe</span><span class="sxs-lookup"><span data-stu-id="f0ec6-348">Europe</span></span> | <span data-ttu-id="f0ec6-349">20.54.41.208/30, 51.105.159.88/30</span><span class="sxs-lookup"><span data-stu-id="f0ec6-349">20.54.41.208/30, 51.105.159.88/30</span></span> 
<span data-ttu-id="f0ec6-350">PROD</span><span class="sxs-lookup"><span data-stu-id="f0ec6-350">PROD</span></span> | <span data-ttu-id="f0ec6-351">Asie-Pacifique</span><span class="sxs-lookup"><span data-stu-id="f0ec6-351">Asia Pacific</span></span> | <span data-ttu-id="f0ec6-352">52.139.188.212/30, 20.43.146.44/30</span><span class="sxs-lookup"><span data-stu-id="f0ec6-352">52.139.188.212/30, 20.43.146.44/30</span></span> 


<span data-ttu-id="f0ec6-353">Si vous avez d’autres problèmes ou souhaitez nous faire part de vos commentaires, écrivez-nous [aka.ms/TalkToGraphConnectors](https://aka.ms/TalkToGraphConnectors)</span><span class="sxs-lookup"><span data-stu-id="f0ec6-353">If you have any other issues or want to provide feedback, write to us [aka.ms/TalkToGraphConnectors](https://aka.ms/TalkToGraphConnectors)</span></span>
