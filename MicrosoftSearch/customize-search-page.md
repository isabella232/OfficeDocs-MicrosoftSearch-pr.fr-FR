---
title: Personnaliser la page Recherche Microsoft page
ms.author: jeffkizn
author: jypal
manager: jeffkizn
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Ajouter des secteurs verticaux de recherche et personnaliser les résultats de recherche
ms.openlocfilehash: 6b6f0593a668e9c2c5c7fc5a62f7b5dd4a43a8bb
ms.sourcegitcommit: ea6905626de67090141039565282e4e0c53b43ac
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/07/2021
ms.locfileid: "53314018"
---
# <a name="customize-the-search-results-page"></a><span data-ttu-id="76b2a-103">Personnaliser la page des résultats de la recherche</span><span class="sxs-lookup"><span data-stu-id="76b2a-103">Customize the search results page</span></span>

<span data-ttu-id="76b2a-104">Vous pouvez créer des secteurs verticaux de recherche et des types de résultats pour personnaliser les résultats de recherche que les utilisateurs voient lorsqu’ils recherchent dans Microsoft [SharePoint,](https://sharepoint.com/) [Microsoft Office](https://office.com)et Recherche Microsoft dans [Bing](https://bing.com).</span><span class="sxs-lookup"><span data-stu-id="76b2a-104">You can create search verticals and result types to customize the search results that users see when they search in Microsoft [SharePoint](https://sharepoint.com/), [Microsoft Office](https://office.com), and Microsoft Search in [Bing](https://bing.com).</span></span> <span data-ttu-id="76b2a-105">Les secteurs verticaux facilitent la recherche des informations qu’ils sont autorisés à voir.</span><span class="sxs-lookup"><span data-stu-id="76b2a-105">Verticals make it easier for users to find the information that they have permission to see.</span></span> <span data-ttu-id="76b2a-106">Par exemple, vous pouvez créer un secteur vertical de recherche pour les données d’analyse marketing à partir de logiciels tiers pour vos utilisateurs au service marketing.</span><span class="sxs-lookup"><span data-stu-id="76b2a-106">For example, you could create a search vertical for marketing analysis data from third-party software for your users in the marketing department.</span></span> <span data-ttu-id="76b2a-107">Vous pouvez également définir des types de résultats et personnaliser la disposition de ces données.</span><span class="sxs-lookup"><span data-stu-id="76b2a-107">You can also define result types and customize the layout for this data.</span></span>  

<span data-ttu-id="76b2a-108">Vous pouvez créer des secteurs verticaux et des types de résultats à ces niveaux :</span><span class="sxs-lookup"><span data-stu-id="76b2a-108">You can create verticals and result types at these levels:</span></span>

- <span data-ttu-id="76b2a-109"> Niveau organisation : lorsque vous ajoutez un secteur vertical au niveau de l’organisation, il apparaît sur la page des résultats de la recherche lorsque les utilisateurs recherchent à partir de leur page d’accueil [SharePoint,](https://sharepoint.com/) sur [Office](https://office.com)ou [sur Bing](https://bing.com).</span><span class="sxs-lookup"><span data-stu-id="76b2a-109">**Organization level** – When you add a vertical at the organization level, it appears on the search results page when users search from their [SharePoint](https://sharepoint.com/) start page, on [Office](https://office.com), or on [Bing](https://bing.com).</span></span>
- <span data-ttu-id="76b2a-110">**Niveau du** site : par exemple, vous souhaitez peut-être permettre aux employés de votre service clientèle de rechercher des incidents de gravité *1* directement à partir du site SharePoint de leur service.</span><span class="sxs-lookup"><span data-stu-id="76b2a-110">**Site level** – For example, you might want to enable your customer service employees to search for *Severity 1* incidents directly from their department’s SharePoint site.</span></span>

## <a name="search-verticals-explained"></a><span data-ttu-id="76b2a-111">Secteurs verticaux de recherche expliqués</span><span class="sxs-lookup"><span data-stu-id="76b2a-111">Search verticals explained</span></span>

<span data-ttu-id="76b2a-112">En haut de la page Recherche Microsoft résultats, il existe une ligne d’onglets.</span><span class="sxs-lookup"><span data-stu-id="76b2a-112">At the top of the Microsoft Search results page, there's a row of tabs.</span></span> <span data-ttu-id="76b2a-113">Voici les secteurs verticaux de recherche.</span><span class="sxs-lookup"><span data-stu-id="76b2a-113">These are the search verticals.</span></span> <span data-ttu-id="76b2a-114">Un secteur vertical de recherche affiche uniquement les résultats d’un certain type ou d’un certain contenu.</span><span class="sxs-lookup"><span data-stu-id="76b2a-114">A search vertical only shows results of a certain type or from certain content.</span></span> <span data-ttu-id="76b2a-115">Fichiers **ou** Actualités en sont des **exemples.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-115">Examples are **Files** or **News**.</span></span> <span data-ttu-id="76b2a-116">Par défaut, Recherche Microsoft affiche les secteurs verticaux **Tous,** **Personnes,** **Fichiers,** **Sites** et **Actualités.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-116">By default, Microsoft Search shows the verticals **All**, **People**, **Files**, **Sites**, and **News**.</span></span>  

<span data-ttu-id="76b2a-117">Vous pouvez ajouter des secteurs verticaux de recherche pertinents pour votre organisation.</span><span class="sxs-lookup"><span data-stu-id="76b2a-117">You can add search verticals that are relevant to your organization.</span></span> <span data-ttu-id="76b2a-118">Ceux-ci apparaissent sur la page Recherche Microsoft résultats dans [SharePoint,](https://sharepoint.com/) [Office](https://Office.com)et [Bing](https://bing.com).</span><span class="sxs-lookup"><span data-stu-id="76b2a-118">These will appear on the Microsoft Search results page in [SharePoint](https://sharepoint.com/), [Office](https://Office.com), and [Bing](https://bing.com).</span></span> <span data-ttu-id="76b2a-119">Par exemple, vous pouvez créer un secteur vertical pour le contenu marketing et un autre pour les ventes, en fonction du type d’informations dont chaque groupe a besoin.</span><span class="sxs-lookup"><span data-stu-id="76b2a-119">For example, you could create a vertical for marketing-related content and another for sales, based on the type of information that each group needs.</span></span> <span data-ttu-id="76b2a-120">Vous pouvez ajouter des secteurs verticaux pour afficher les résultats uniquement à partir du contenu indexé via des connecteurs.</span><span class="sxs-lookup"><span data-stu-id="76b2a-120">You can add verticals to show results only from content indexed via connectors.</span></span>  

### <a name="multiple-connections-in-a-vertical"></a><span data-ttu-id="76b2a-121">Connexions multiples dans un secteur vertical</span><span class="sxs-lookup"><span data-stu-id="76b2a-121">Multiple connections in a vertical</span></span>

<span data-ttu-id="76b2a-122">Un secteur vertical de recherche peut maintenant faire surface des résultats provenant de plusieurs sources de connecteur.</span><span class="sxs-lookup"><span data-stu-id="76b2a-122">A search vertical can now surface results from multiple connector sources.</span></span> <span data-ttu-id="76b2a-123">Cela offre une plus grande flexibilité dans la conception de votre page de résultats de recherche.</span><span class="sxs-lookup"><span data-stu-id="76b2a-123">This provides greater flexibility in designing your search result page.</span></span> <span data-ttu-id="76b2a-124">L’expérience administrative existante de la configuration verticale vous permet de sélectionner plusieurs connexions à l’étape « Source de contenu ».</span><span class="sxs-lookup"><span data-stu-id="76b2a-124">The existing administrative experience of vertical setup allows you to select multiple connections in the "Content Source" step.</span></span>
<span data-ttu-id="76b2a-125">Si vous nommez avec précision autant d’étiquettes sémantiques que possible, cette expérience sera améliorée.</span><span class="sxs-lookup"><span data-stu-id="76b2a-125">If you accurately appoint as many semantic labels as possible, this experience will be enhanced.</span></span> <span data-ttu-id="76b2a-126">Vous pouvez ajouter des étiquettes sémantiques lors de la définition et de l’ingestion du schéma.</span><span class="sxs-lookup"><span data-stu-id="76b2a-126">You can add semantic labels upon schema definition and ingestion.</span></span>

<span data-ttu-id="76b2a-127">[Voici](configure-connector.md#step-5-assign-property-labels) des informations supplémentaires sur la création et la gestion d’étiquettes sémantiques.</span><span class="sxs-lookup"><span data-stu-id="76b2a-127">[Here](configure-connector.md#step-5-assign-property-labels) is additional information on how to create and manage semantic labels.</span></span>

> [!NOTE]
> <span data-ttu-id="76b2a-128">Plusieurs connexions dans un secteur vertical sont actuellement en prévisualisation.</span><span class="sxs-lookup"><span data-stu-id="76b2a-128">Multiple connections in a vertical is currently in preview.</span></span> <span data-ttu-id="76b2a-129">Pour plus d’informations sur la prévisualisation, voir [les fonctionnalités d’aperçu des connecteurs.](connectors-overview.md#what-are-the-preview-features)</span><span class="sxs-lookup"><span data-stu-id="76b2a-129">For more information about preview, see [Connectors preview features](connectors-overview.md#what-are-the-preview-features).</span></span>

### <a name="things-you-should-know"></a><span data-ttu-id="76b2a-130">Ce que vous devez savoir</span><span class="sxs-lookup"><span data-stu-id="76b2a-130">Things you should know</span></span>

1. <span data-ttu-id="76b2a-131">Une connexion peut être ajoutée en tant que source de contenu uniquement sous un secteur vertical.</span><span class="sxs-lookup"><span data-stu-id="76b2a-131">A connection can be added as a content source only under one vertical.</span></span> <span data-ttu-id="76b2a-132">La réutilisation de connexions sous plusieurs secteurs verticaux n’est pas autorisée.</span><span class="sxs-lookup"><span data-stu-id="76b2a-132">Reusing connections under multiple verticals is not allowed.</span></span>
2. <span data-ttu-id="76b2a-133">Si vous devez configurer une requête pour un secteur vertical de recherche où plusieurs sources de connexion ont été ajoutées, les propriétés sources communes doivent être utilisées pour créer une telle requête.</span><span class="sxs-lookup"><span data-stu-id="76b2a-133">If you need to set up a query for a search vertical where multiple connection sources have been added, common source properties should be used to create a such a query.</span></span>

## <a name="things-to-consider"></a><span data-ttu-id="76b2a-134">Informations importantes</span><span class="sxs-lookup"><span data-stu-id="76b2a-134">Things to consider</span></span>

<span data-ttu-id="76b2a-135">Avant de commencer, assurez-vous que le connecteur a été indexé.</span><span class="sxs-lookup"><span data-stu-id="76b2a-135">Before you start, make sure that the connector has been indexed.</span></span> <span data-ttu-id="76b2a-136">Cela peut prendre jusqu’à 48 heures, selon la taille du fichier.</span><span class="sxs-lookup"><span data-stu-id="76b2a-136">This can take up to 48 hours, depending on the file size.</span></span>

<span data-ttu-id="76b2a-137">Vous ne pouvez pas créer de secteur vertical pour le contenu qui réside dans [SharePoint](https://sharepoint.com/).</span><span class="sxs-lookup"><span data-stu-id="76b2a-137">You can’t create a vertical for content that resides in [SharePoint](https://sharepoint.com/).</span></span>

<span data-ttu-id="76b2a-138">Il existe trois étapes de base pour ajouter un secteur vertical :</span><span class="sxs-lookup"><span data-stu-id="76b2a-138">There are three basic steps to add a vertical:</span></span>

1. <span data-ttu-id="76b2a-139">Créez le secteur vertical.</span><span class="sxs-lookup"><span data-stu-id="76b2a-139">Create the vertical.</span></span> <span data-ttu-id="76b2a-140">Dans cette étape, vous définissez le nom, la source de contenu et l’étendue du contenu à rechercher.</span><span class="sxs-lookup"><span data-stu-id="76b2a-140">In this step, you define the vertical’s name, content source, and scope of the content to search.</span></span>
2. <span data-ttu-id="76b2a-141">Définissez à quoi ressembleront les résultats de ce secteur vertical.</span><span class="sxs-lookup"><span data-stu-id="76b2a-141">Define what the results for this vertical will look like.</span></span>  
3. <span data-ttu-id="76b2a-142">Activez le secteur vertical (à afficher) à partir de la page de liste verticale.</span><span class="sxs-lookup"><span data-stu-id="76b2a-142">Enable the vertical (to be displayed) from the vertical list page.</span></span>

## <a name="step-1-create-the-search-vertical"></a><span data-ttu-id="76b2a-143">ÉTAPE 1 : Créer le secteur vertical de recherche</span><span class="sxs-lookup"><span data-stu-id="76b2a-143">STEP 1: Create the search vertical</span></span>

<span data-ttu-id="76b2a-144">Après avoir commencé l’Assistant, vous êtes guidé dans les étapes de définition du nom, de la source de contenu et de l’étendue du contenu à rechercher.</span><span class="sxs-lookup"><span data-stu-id="76b2a-144">After you start the wizard, you're guided through the steps to define the vertical's name, content source, and scope of the content to search.</span></span> <span data-ttu-id="76b2a-145">Le secteur vertical est créé dans un état désactivé.</span><span class="sxs-lookup"><span data-stu-id="76b2a-145">The vertical is created in a disabled state.</span></span> <span data-ttu-id="76b2a-146">Vous l’activerez ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="76b2a-146">You'll enable it later.</span></span>

<span data-ttu-id="76b2a-147">Vous pouvez utiliser un ensemble limité de langages [KQL (Keyword Query Language)](/sharepoint/dev/general-development/keyword-query-language-kql-syntax-reference) pour limiter l’étendue.</span><span class="sxs-lookup"><span data-stu-id="76b2a-147">You can use a limited set of [Keyword Query Language (KQL)](/sharepoint/dev/general-development/keyword-query-language-kql-syntax-reference) to narrow the scope.</span></span> <span data-ttu-id="76b2a-148">Cette page répertorie les propriétés disponibles.</span><span class="sxs-lookup"><span data-stu-id="76b2a-148">This page lists the properties that are available.</span></span> <span data-ttu-id="76b2a-149">Nous vous recommandons d’utiliser des mots clés de texte libre et des restrictions de propriété avec des opérateurs booléens pour créer le KQL.</span><span class="sxs-lookup"><span data-stu-id="76b2a-149">We recommend that you use free-text keywords and property restrictions with boolean operators for creating the KQL.</span></span>
<span data-ttu-id="76b2a-150">KQL prend également en charge l’utilisation de [variables de requête](#profile-query-variables) de profil pour affiner les résultats sous le secteur vertical.</span><span class="sxs-lookup"><span data-stu-id="76b2a-150">KQL also supports the use of [profile query variables](#profile-query-variables) to fine-tune results under the vertical.</span></span>

### <a name="create-a-vertical-at-the-organization-level"></a><span data-ttu-id="76b2a-151">Créer un secteur vertical au niveau de l’organisation</span><span class="sxs-lookup"><span data-stu-id="76b2a-151">Create a vertical at the organization level</span></span>

<span data-ttu-id="76b2a-152">Pour créer le secteur vertical [](https://sharepoint.com/) sur Recherche Microsoft dans SharePoint d’accueil, [Office](https://office.com)ou [Bing,](https://bing.com)suivez les étapes suivantes :</span><span class="sxs-lookup"><span data-stu-id="76b2a-152">To create the vertical on Microsoft Search in [SharePoint](https://sharepoint.com/) home, [Office](https://office.com), or [Bing](https://bing.com), follow these steps:</span></span>

1. <span data-ttu-id="76b2a-153">Dans la [Centre d’administration Microsoft 365,](https://admin.microsoft.com)allez à [**Verticals**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/verticals).</span><span class="sxs-lookup"><span data-stu-id="76b2a-153">In the [Microsoft 365 admin center](https://admin.microsoft.com), go to [**Verticals**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/verticals).</span></span>
2. <span data-ttu-id="76b2a-154">Sélectionnez **Ajouter** pour commencer.</span><span class="sxs-lookup"><span data-stu-id="76b2a-154">Select **Add** to get started.</span></span>  

### <a name="create-a-vertical-at-the-site-level"></a><span data-ttu-id="76b2a-155">Créer un secteur vertical au niveau du site</span><span class="sxs-lookup"><span data-stu-id="76b2a-155">Create a vertical at the site level</span></span>

1. <span data-ttu-id="76b2a-156">Sur le [SharePoint](https://sharepoint.com/) où vous souhaitez le secteur vertical, Paramètres **.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-156">On the [SharePoint](https://sharepoint.com/) site where you want the vertical, go to **Settings**.</span></span>
2. <span data-ttu-id="76b2a-157">Sélectionnez **les informations du site,** **puis affichez tous les paramètres du site.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-157">Select **Site information** and then **View all site settings**.</span></span>
3. <span data-ttu-id="76b2a-158">Recherchez la section **Recherche Microsoft,** puis **sélectionnez Configurer Recherche Microsoft pour cette collection de sites.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-158">Look for the **Microsoft Search** section, and then select **Configure Microsoft Search for this site collection**.</span></span>
4. <span data-ttu-id="76b2a-159">Dans le volet de navigation, sélectionnez **Expérience personnalisée,** puis sélectionnez **l’onglet Verticals.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-159">In the navigation pane, go to **Custom experience**, and then select the **Verticals** tab.</span></span>
5. <span data-ttu-id="76b2a-160">Pour ajouter un secteur vertical, sélectionnez **Ajouter.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-160">To add a vertical, select **Add**.</span></span>
  <span data-ttu-id="76b2a-161">Ou, pour modifier un secteur vertical, sélectionnez-le dans la liste.</span><span class="sxs-lookup"><span data-stu-id="76b2a-161">Or, to edit a vertical, select it in the list.</span></span>

<span data-ttu-id="76b2a-162">N’oubliez pas que les secteurs verticaux sont créés dans un état désactivé.</span><span class="sxs-lookup"><span data-stu-id="76b2a-162">Remember, verticals are created in a disabled state.</span></span> <span data-ttu-id="76b2a-163">Elles doivent être activées pour que les utilisateurs les voient.</span><span class="sxs-lookup"><span data-stu-id="76b2a-163">They must be enabled before users can see them.</span></span>

## <a name="step-2-create-the-result-types"></a><span data-ttu-id="76b2a-164">ÉTAPE 2 : Créer les types de résultats</span><span class="sxs-lookup"><span data-stu-id="76b2a-164">STEP 2: Create the result types</span></span>

<span data-ttu-id="76b2a-165">Vous pouvez définir la façon dont les résultats sont affichés dans le secteur vertical en concevant la disposition à l’aide de types de résultats.</span><span class="sxs-lookup"><span data-stu-id="76b2a-165">You can define how results are displayed in the vertical by designing the layout using result types.</span></span> <span data-ttu-id="76b2a-166">La disposition des résultats vous permet d’afficher des informations importantes directement dans les résultats de la recherche, afin que les utilisateurs n’ont pas à sélectionner chaque résultat pour voir s’ils ont trouvé ce qu’ils recherchent.</span><span class="sxs-lookup"><span data-stu-id="76b2a-166">The result layout lets you show important information directly in the search results, so users don't have to select each result to see if they found what they're looking for.</span></span>

### <a name="default-search-result-layout"></a><span data-ttu-id="76b2a-167">Disposition des résultats de recherche par défaut</span><span class="sxs-lookup"><span data-stu-id="76b2a-167">Default search result layout</span></span>

<span data-ttu-id="76b2a-168">Une disposition des résultats de recherche  par  défaut s’affiche pour le contenu du connecteur si les étiquettes et la propriété de contenu ont été correctement mappées aux propriétés source au moment de la configuration du connecteur.</span><span class="sxs-lookup"><span data-stu-id="76b2a-168">A default search result layout will be shown for Connector content if **labels** and **content** property have been mapped correctly to the source properties at the time of configuring the connector.</span></span> <span data-ttu-id="76b2a-169">Le titre **de l’étiquette** est l’étiquette la plus importante.</span><span class="sxs-lookup"><span data-stu-id="76b2a-169">The label **title** is the most important label.</span></span> <span data-ttu-id="76b2a-170">Il est **vivement recommandé d’attribuer** une propriété à cette étiquette pour utiliser la disposition des résultats de recherche par défaut.</span><span class="sxs-lookup"><span data-stu-id="76b2a-170">It is **strongly recommended** that you have a property assigned to this label to use default search result layout.</span></span>

### <a name="create-your-own-result-type"></a><span data-ttu-id="76b2a-171">Créer votre propre type de résultat</span><span class="sxs-lookup"><span data-stu-id="76b2a-171">Create your own result type</span></span>

<span data-ttu-id="76b2a-172">Vous pouvez décider de créer votre propre disposition des résultats de recherche et de remplacer la disposition des résultats de recherche par défaut en créant un **type de résultat.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-172">You can decide to create your own search result layout and override the default search result layout by creating a **result type**.</span></span> <span data-ttu-id="76b2a-173">Un type de résultat de recherche est une règle qui entraîne l'affichage, sous diverses formes, de différents types de résultats de recherche.</span><span class="sxs-lookup"><span data-stu-id="76b2a-173">A search result type is a rule that causes distinct kinds of search results to be displayed in different ways.</span></span> <span data-ttu-id="76b2a-174">Il se compose des éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="76b2a-174">It consists of the following:</span></span>

- <span data-ttu-id="76b2a-175">**Une ou plusieurs conditions à** comparer à chaque résultat de recherche, telles que la source de contenu du résultat de la recherche.</span><span class="sxs-lookup"><span data-stu-id="76b2a-175">**One or more conditions** to compare each search result against, such as the content source of the search result.</span></span>  
- <span data-ttu-id="76b2a-176">Disposition **des résultats à** utiliser pour les résultats de recherche qui répondent aux conditions.</span><span class="sxs-lookup"><span data-stu-id="76b2a-176">A **result layout** to use for search results that meet the conditions.</span></span> <span data-ttu-id="76b2a-177">La disposition qui en résulte contrôle la façon dont tous les résultats qui répondent aux conditions apparaissent et se comportent sur une page de résultats de recherche.</span><span class="sxs-lookup"><span data-stu-id="76b2a-177">The resulting layout controls the way that all results that meet the conditions appear and behave on a search results page.</span></span>

<span data-ttu-id="76b2a-178">**Si le mappage approprié n’est pas effectué pour afficher la disposition des résultats de recherche par défaut, vous devez créer au moins un type de résultat pour que les résultats s’affichent sur le secteur vertical.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-178">**If appropriate mapping is not done to show default search result layout, You must create at least one result type for results to display on the vertical.**</span></span> <span data-ttu-id="76b2a-179">Vous pouvez créer plusieurs types de résultats pour chaque secteur vertical, ce qui vous permet d’utiliser différentes dispositions pour différents types de résultats.</span><span class="sxs-lookup"><span data-stu-id="76b2a-179">You can create multiple result types for each vertical, which allows you to use different layouts for different type of results.</span></span> <span data-ttu-id="76b2a-180">Par exemple, vous pouvez personnaliser les incidents de gravité *1* pour qu’ils ont des couleurs plus visibles et une police plus grande que les incidents de gravité *3.*</span><span class="sxs-lookup"><span data-stu-id="76b2a-180">For example, you can customize *Severity 1* incidents to have more prominent colors and a larger font compared to *Severity 3* incidents.</span></span>

<span data-ttu-id="76b2a-181">Après avoir commencé l’Assistant, vous êtes guidé à travers les étapes pour définir le nom, la source de contenu et les conditions du type de résultat.</span><span class="sxs-lookup"><span data-stu-id="76b2a-181">After you start the wizard, you're guided through the steps to define the name, content source, and conditions for the result type.</span></span> <span data-ttu-id="76b2a-182">Vous pouvez définir la priorité du type de résultat à partir de l’affichage Liste.</span><span class="sxs-lookup"><span data-stu-id="76b2a-182">You can define the priority of the result type from the list view.</span></span>
  
### <a name="create-a-result-type-at-the-organization-level"></a><span data-ttu-id="76b2a-183">Créer un type de résultat au niveau de l’organisation</span><span class="sxs-lookup"><span data-stu-id="76b2a-183">Create a result type at the organization level</span></span>

1. <span data-ttu-id="76b2a-184">Dans la [Centre d’administration Microsoft 365,](https://admin.microsoft.com)allez à [**Types de résultats.**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/resulttypes)</span><span class="sxs-lookup"><span data-stu-id="76b2a-184">In the [Microsoft 365 admin center](https://admin.microsoft.com), go to [**Result types**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/resulttypes).</span></span>
2. <span data-ttu-id="76b2a-185">Pour ajouter un **type de résultat,** sélectionnez **Ajouter.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-185">To add a **Result type**, select **Add**.</span></span> <span data-ttu-id="76b2a-186">Pour modifier un type de résultat, sélectionnez-le dans la liste concernée.</span><span class="sxs-lookup"><span data-stu-id="76b2a-186">To edit a result type, select the result type in the relevant list.</span></span>

### <a name="create-a-results-type-at-the-site-level"></a><span data-ttu-id="76b2a-187">Créer un type de résultats au niveau du site</span><span class="sxs-lookup"><span data-stu-id="76b2a-187">Create a results type at the site level</span></span>

1. <span data-ttu-id="76b2a-188">Sur le [SharePoint](https://sharepoint.com/) site où vous souhaitez créer le type de résultat, Paramètres **.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-188">On the [SharePoint](https://sharepoint.com/) site where you want to create the result type, go to **Settings**.</span></span>
2. <span data-ttu-id="76b2a-189">Sélectionnez **les informations du site,** **puis affichez tous les paramètres du site.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-189">Select **Site information** and then **View all site settings**.</span></span>
3. <span data-ttu-id="76b2a-190">Recherchez la section Recherche Microsoft, puis **sélectionnez Configurer Recherche Microsoft pour cette collection de sites.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-190">Look for the Microsoft Search section, and then select **Configure Microsoft Search for this site collection**.</span></span>
4. <span data-ttu-id="76b2a-191">Dans le volet de navigation, sélectionnez **Expérience personnalisée** et sélectionnez **l’onglet Type de** résultat.</span><span class="sxs-lookup"><span data-stu-id="76b2a-191">In the navigation pane, go to **Custom experience**, and select **Result type** tab.</span></span>
5. <span data-ttu-id="76b2a-192">Pour ajouter un type de résultat, sélectionnez **Ajouter.**</span><span class="sxs-lookup"><span data-stu-id="76b2a-192">To add a result type, select **Add**.</span></span>  <span data-ttu-id="76b2a-193">Ou, pour modifier un type de résultat, sélectionnez le type de résultat dans la liste.</span><span class="sxs-lookup"><span data-stu-id="76b2a-193">Or, to edit a result type, select the result type in the list.</span></span>

## <a name="step-3-view-the-vertical-after-its-enabled"></a><span data-ttu-id="76b2a-194">ÉTAPE 3 : Afficher le secteur vertical une fois activé</span><span class="sxs-lookup"><span data-stu-id="76b2a-194">STEP 3: View the vertical after it's enabled</span></span>

<span data-ttu-id="76b2a-195">Une fois que vous avez activé le secteur vertical, il faudra quelques heures avant de pouvoir l’afficher.</span><span class="sxs-lookup"><span data-stu-id="76b2a-195">After you enable the vertical, it will take a few hours before you can view it.</span></span> <span data-ttu-id="76b2a-196">Si vous ne souhaitez pas attendre après l’avoir mise en place, vous pouvez l’appendre à **l’URL** dans [SharePoint](https://sharepoint.com/) et [Office](https://office.com) pour afficher immédiatement le secteur vertical.</span><span class="sxs-lookup"><span data-stu-id="76b2a-196">If you don't want to wait after enabling it, you can append **cacheClear=true** to the URL in [SharePoint](https://sharepoint.com/) and [Office](https://office.com) to view the vertical immediately.</span></span> <span data-ttu-id="76b2a-197">Pour [Bing,](https://bing.com)&**features=uncachedVerticals** à l’URL de secteur vertical de travail pour afficher les secteurs verticaux immédiatement.</span><span class="sxs-lookup"><span data-stu-id="76b2a-197">For [Bing](https://bing.com), append **&features=uncachedVerticals** to the Work vertical URL to view the verticals immediately.</span></span>

> [!NOTE]
> <span data-ttu-id="76b2a-198">Les secteurs verticaux ajoutés ne sont pas visibles [sur SharePoint](https://sharepoint.com/) et [Office](https://office.com) lorsqu’ils sont visibles à partir de navigateurs web mobiles.</span><span class="sxs-lookup"><span data-stu-id="76b2a-198">Added verticals will not be visible on [SharePoint](https://sharepoint.com/) and [Office](https://office.com) when viewed from mobile web browsers.</span></span>

## <a name="profile-query-variables"></a><span data-ttu-id="76b2a-199">Variables de requête de profil</span><span class="sxs-lookup"><span data-stu-id="76b2a-199">Profile query variables</span></span>

<span data-ttu-id="76b2a-200">Les variables de requête sont utilisées dans la section de requête KQL d’un secteur vertical pour fournir des données dynamiques en tant qu’entrées à la requête d’un secteur vertical.</span><span class="sxs-lookup"><span data-stu-id="76b2a-200">Query variables are used in the KQL query section of a vertical to provide dynamic data as an input to the query of a vertical.</span></span> <span data-ttu-id="76b2a-201">Vous pouvez utiliser des variables de requête de profil pour rendre les résultats de la recherche contextuels pour l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="76b2a-201">You can use profile query variables to make the search results contextual to the signed-in user.</span></span> <span data-ttu-id="76b2a-202">Les variables de requête de profil récupèrent les valeurs du profil de [l’utilisateur.](/graph/api/resources/profile?view=graph-rest-beta)</span><span class="sxs-lookup"><span data-stu-id="76b2a-202">Profile query variables fetch values from the signed-in user’s [profile](/graph/api/resources/profile?view=graph-rest-beta).</span></span>

<span data-ttu-id="76b2a-203">Par exemple, si vous souhaitez créer un secteur vertical « Tickets » dans lequel un utilisateur inscrit peut rechercher des tickets de support qui lui sont affectés, vous pouvez spécifier la requête suivante sous la section « Requête » lors de la création verticale dans la page d’administration.</span><span class="sxs-lookup"><span data-stu-id="76b2a-203">For example, if you want to create a “Tickets” vertical where a signed-in user can search for support tickets assigned to them, you can specify the following query under the "Query" section during the vertical creation in the administration page.</span></span>  

<span data-ttu-id="76b2a-204">**AssignedTo:{Profile.accounts.userPrincipalName}**</span><span class="sxs-lookup"><span data-stu-id="76b2a-204">**AssignedTo:{Profile.accounts.userPrincipalName}**</span></span>

<span data-ttu-id="76b2a-205">Cela réduit les résultats de la recherche pour afficher uniquement les éléments pour lequel la personne assignée est l’utilisateur qui effectue la recherche.</span><span class="sxs-lookup"><span data-stu-id="76b2a-205">This will narrow down the search results to show only those items where the assignee is the user performing the search.</span></span>

<span data-ttu-id="76b2a-206">[La ressource de profil](https://graph.microsoft.com/graph/api/resources/profile?view=graph-rest-beta) expose les propriétés en tant que collections.</span><span class="sxs-lookup"><span data-stu-id="76b2a-206">[Profile resource](https://graph.microsoft.com/graph/api/resources/profile?view=graph-rest-beta) exposes properties as collections.</span></span> <span data-ttu-id="76b2a-207">Par exemple, les informations relatives aux adresses de messagerie sont exposées via la collecte de courriers électroniques, les postes de travail en tant que collection de positions, etc.</span><span class="sxs-lookup"><span data-stu-id="76b2a-207">For example, information related to email addresses is exposed through email collection, work positions as positions collection, and so on.</span></span> <span data-ttu-id="76b2a-208">Toutes les propriétés disponibles dans le profil utilisateur, qui ont AAD comme type source, sont exposées en tant que variables de requête.</span><span class="sxs-lookup"><span data-stu-id="76b2a-208">All properties available in the user profile, which have AAD as the source type, are exposed as Query variables.</span></span>

<span data-ttu-id="76b2a-209">Considérons un utilisateur qui dispose de 3 adresses de messagerie disponibles dans la collection de courriers électroniques, comme illustré ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="76b2a-209">Consider a user who has 3 email addresses available in the email collection, as shown below.</span></span>

```json
"emails": [{ 

        "address": "Megan.Bowen@contoso.com",
        "id": "xyz", 
        "source": { 
            "CreatedBy": "xyz", 
            "CreatedOn": "2222", 
            "Type": "official" 
        },
        "type": "main" 
    }, { 
        "address": "meganb@hotmail.com",
        "id": "abc", 
        "source": { 
            "CreatedBy": "abc",
            "CreatedOn": "3333", 
            "Type": "non-official",
        },
        "type": "work"
    }, { 
        "address": "meganb@outlook.com",
        "id": "pqr", 
        "source": { 
            "CreatedBy": "pqr", 
            "CreatedOn": "4444", 
            "Type": "personal" 
        },
        "type": "personal" 
    } 
] 
```

- <span data-ttu-id="76b2a-210">La requête **MyProperty: {Profile.emails.address}** est résolue en MyProperty : « Megan.Bowen@contoso.com ».</span><span class="sxs-lookup"><span data-stu-id="76b2a-210">The query **MyProperty: {Profile.emails.address}** will resolve to MyProperty: “Megan.Bowen@contoso.com”.</span></span>  

- <span data-ttu-id="76b2a-211">Si vous souhaitez résoudre toutes les valeurs de l’attribut d’adresse, vous devez utiliser la syntaxe d’extension à valeurs multiples.</span><span class="sxs-lookup"><span data-stu-id="76b2a-211">If you wish to resolve all the values of the address attribute, you have to use the multi-value expansion syntax.</span></span> <span data-ttu-id="76b2a-212">Requête **{| MyProperty:{Profile.emails.address}}** sera résolu en ((MyProperty:"Megan.Bowen@contoso.com ») OR (MyProperty: « meganb@hotmail.com ») OR (MyProperty:"meganb@outlook.com »))</span><span class="sxs-lookup"><span data-stu-id="76b2a-212">The query **{|MyProperty:{Profile.emails.address}}** will resolve to ((MyProperty:"Megan.Bowen@contoso.com") OR (MyProperty: "meganb@hotmail.com") OR (MyProperty:"meganb@outlook.com"))</span></span>  

<span data-ttu-id="76b2a-213">L’opérateur « | » doit être utilisé pour résoudre les variables à valeurs multiples.</span><span class="sxs-lookup"><span data-stu-id="76b2a-213">The “|” operator should be used for resolving multi-value variables.</span></span> <span data-ttu-id="76b2a-214">Pour plus d’exemples sur l’extension de profil, reportez-vous au tableau ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="76b2a-214">For more examples on profile expansion refer to the table below.</span></span>

| #         | <span data-ttu-id="76b2a-215">Syntaxe</span><span class="sxs-lookup"><span data-stu-id="76b2a-215">Syntax</span></span> |  <span data-ttu-id="76b2a-216">Valeur renvoyée</span><span class="sxs-lookup"><span data-stu-id="76b2a-216">Value returned</span></span>  |
| --------- | ------ | --- |
| <span data-ttu-id="76b2a-217">1</span><span class="sxs-lookup"><span data-stu-id="76b2a-217">1</span></span>    | <span data-ttu-id="76b2a-218">MyProperty:{Profile.emails.address}</span><span class="sxs-lookup"><span data-stu-id="76b2a-218">MyProperty:{Profile.emails.address}</span></span>  |   <span data-ttu-id="76b2a-219">« Megan.Bowen@contoso.com »</span><span class="sxs-lookup"><span data-stu-id="76b2a-219">"Megan.Bowen@contoso.com"</span></span>  |
| <span data-ttu-id="76b2a-220">2</span><span class="sxs-lookup"><span data-stu-id="76b2a-220">2</span></span> | <span data-ttu-id="76b2a-221">MyProperty:{Profile.emails}</span><span class="sxs-lookup"><span data-stu-id="76b2a-221">MyProperty:{Profile.emails}</span></span>   |    <span data-ttu-id="76b2a-222">{Profile.emails} This will not resolve because emails are an object.</span><span class="sxs-lookup"><span data-stu-id="76b2a-222">{Profile.emails} This will not resolve because emails are an object.</span></span>|
| <span data-ttu-id="76b2a-223">3</span><span class="sxs-lookup"><span data-stu-id="76b2a-223">3</span></span>    | <span data-ttu-id="76b2a-224">{? MyProperty:{Profile.emails}}</span><span class="sxs-lookup"><span data-stu-id="76b2a-224">{?MyProperty:{Profile.emails}}</span></span>  |  <span data-ttu-id="76b2a-225">Cela ne sera pas résolu car les e-mails sont un objet.</span><span class="sxs-lookup"><span data-stu-id="76b2a-225">This will not resolve because emails is an object.</span></span> <span data-ttu-id="76b2a-226">Le « ? »</span><span class="sxs-lookup"><span data-stu-id="76b2a-226">The “?”</span></span> <span data-ttu-id="76b2a-227">ignore les variables de requête qui ne sont pas résolues.</span><span class="sxs-lookup"><span data-stu-id="76b2a-227">operator ignores query variables that do not resolve.</span></span> <span data-ttu-id="76b2a-228">Cette variable est supprimée lorsqu’elle est passée plus bas dans la pile de requêtes.</span><span class="sxs-lookup"><span data-stu-id="76b2a-228">This variable will be removed when passed further down the query stack.</span></span>   |
| <span data-ttu-id="76b2a-229">4 </span><span class="sxs-lookup"><span data-stu-id="76b2a-229">4</span></span> | <span data-ttu-id="76b2a-230">{&#124;MyProperty : {Profile.emails.source.Type}}</span><span class="sxs-lookup"><span data-stu-id="76b2a-230">{&#124;MyProperty: {Profile.emails.source.Type}}</span></span>    |  <span data-ttu-id="76b2a-231">((MyProperty:"official ») OR (MyProperty:"non-official ») OR (MyProperty:"personal »))</span><span class="sxs-lookup"><span data-stu-id="76b2a-231">((MyProperty:"official") OR (MyProperty:"non-official") OR (MyProperty:"personal"))</span></span>    |

> [!NOTE]
>
> - <span data-ttu-id="76b2a-232">Les variables de requête de profil sont uniquement pris en charge pour les secteurs verticaux personnalisés utilisant [un connecteur](connectors-overview.md) comme source de contenu.</span><span class="sxs-lookup"><span data-stu-id="76b2a-232">Profile query variables are only supported for custom verticals using a [connector](connectors-overview.md) as a content source.</span></span>
> - <span data-ttu-id="76b2a-233">Les variables de requête de profil sont définies dans la section « Requête » du [processus de mise en place verticale.](customize-search-page.md#step-1-create-the-search-vertical)</span><span class="sxs-lookup"><span data-stu-id="76b2a-233">Profile query variables are defined on the “Query” section of the [vertical set up process](customize-search-page.md#step-1-create-the-search-vertical).</span></span>
> - <span data-ttu-id="76b2a-234">Les variables de requête de profil sont actuellement en prévisualisation.</span><span class="sxs-lookup"><span data-stu-id="76b2a-234">Profile query variables is currently in preview.</span></span> <span data-ttu-id="76b2a-235">Pour plus d’informations sur la prévisualisation, voir [les fonctionnalités d’aperçu des connecteurs.](connectors-overview.md#what-are-the-preview-features)</span><span class="sxs-lookup"><span data-stu-id="76b2a-235">For more information about preview, see [Connectors preview features](connectors-overview.md#what-are-the-preview-features).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="76b2a-236">Résolution des problèmes</span><span class="sxs-lookup"><span data-stu-id="76b2a-236">Troubleshooting</span></span>

<span data-ttu-id="76b2a-237">Voici une liste des problèmes courants que vous pouvez rencontrer et des actions à prendre pour les résoudre.</span><span class="sxs-lookup"><span data-stu-id="76b2a-237">Here's a list of common issues you might encounter and actions to fix them.</span></span>

|<span data-ttu-id="76b2a-238">Erreur</span><span class="sxs-lookup"><span data-stu-id="76b2a-238">Error</span></span>  |<span data-ttu-id="76b2a-239">Action</span><span class="sxs-lookup"><span data-stu-id="76b2a-239">Action</span></span>  |
|---------|---------|
| <span data-ttu-id="76b2a-240">Je vois un message d’erreur « Un problème s’est passé » sur le secteur vertical.</span><span class="sxs-lookup"><span data-stu-id="76b2a-240">I see a "Something went wrong" error message on the vertical.</span></span> | <span data-ttu-id="76b2a-241">Les types de résultat et vertical sont nécessaires pour terminer l’installation.</span><span class="sxs-lookup"><span data-stu-id="76b2a-241">Both the vertical and result types are needed to complete the setup.</span></span> <span data-ttu-id="76b2a-242">Assurez-vous que vous avez créé les deux pour la même source de contenu.</span><span class="sxs-lookup"><span data-stu-id="76b2a-242">Make sure you have created both for the same content source.</span></span> |
| <span data-ttu-id="76b2a-243">Je ne vois pas ma disposition des résultats, même si j’en ai créé une.</span><span class="sxs-lookup"><span data-stu-id="76b2a-243">I don't see my result layout, although I created one.</span></span> | <span data-ttu-id="76b2a-244">Cela prend quelques minutes, car ces paramètres sont généralement mis en cache.</span><span class="sxs-lookup"><span data-stu-id="76b2a-244">It takes a few minutes because these settings are generally cached.</span></span> <span data-ttu-id="76b2a-245">Patientez quelques minutes, puis recommencez.</span><span class="sxs-lookup"><span data-stu-id="76b2a-245">Wait for a few minutes and try again.</span></span>        |
| <span data-ttu-id="76b2a-246">Je ne vois aucune source de contenu dans la page de type vertical ou de résultat.</span><span class="sxs-lookup"><span data-stu-id="76b2a-246">I don't see any content sources on the vertical or result type page.</span></span> | <span data-ttu-id="76b2a-247">Assurez-vous que vous avez configuré des connecteurs et des données indexées.</span><span class="sxs-lookup"><span data-stu-id="76b2a-247">Make sure you have configured connectors and indexed data.</span></span>   |

## <a name="next-steps"></a><span data-ttu-id="76b2a-248">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="76b2a-248">Next steps</span></span>

[<span data-ttu-id="76b2a-249">Personnaliser la disposition des résultats</span><span class="sxs-lookup"><span data-stu-id="76b2a-249">Customize the results layout</span></span>](customize-results-layout.md)
